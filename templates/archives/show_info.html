{% extends 'base.html' %}

{% block title %}Show Info - Perfect Line Archives{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4">
    <header class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-white">Show Information</h1>
        <p class="text-md md:text-lg text-gray-400 mt-2">Where to watch and how to play The Perfect Line.</p>
    </header>

    <!-- About the Game Section -->
    <section class="mb-12 bg-gray-800 rounded-2xl p-6 border border-gray-700 space-y-4 text-gray-300 leading-relaxed">
        <h2 class="text-2xl font-bold text-white mb-2">About the Game</h2>
        <p>
            Hosted by Deborah Norville, The Perfect Line is an American daytime game show airing nationally on the Game Show Network and in local syndication. The game's premise is deceptively simple: contestants are challenged to place a series of items in the correct order, whether it's chronologically from earliest to latest, geographically from west to east, or by value from lowest to highest.
        </p>
        <p>
            The game begins with four preliminary rounds. Each round starts with a single item already placed on the board, and four contestants take turns placing a new item onto the line. Players who correctly position their item earn an equal share of that round's prize pot, which ranges from $2,400 to $4,200. A unique twist is that the starting player rotates each round based on podium positionâ€”a gameplay element this site aims to analyze, as it may influence the outcome from the very beginning.
        </p>
        <p>
            After four rounds, the two players with the highest scores advance to a head-to-head speed round called The Fast Line, where they quickly place items before or after a starting item to earn $500 for each correct placement. The winner of this round moves on to the Final Round, where they must perfectly match five items to their five retail prices. A perfect lineup wins the player their entire accumulated jackpot, while any mistake still earns them a respectable $1,000 prize.
        </p>
    </section>

    <!-- National Section -->
    <section class="mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Nationally</h2>
        <p class="text-gray-300">
            The Perfect Line can be seen nationally on <a href="https://www.gameshownetwork.com/the-perfect-line" class="font-semibold text-yellow-400 hover:underline" target="_blank" rel="noopener noreferrer">The Game Show Network</a> weeknights at 5:30 PM.
        </p>
    </section>

    <!-- Syndication Section -->
    <section class="mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Syndication</h2>
        <p class="text-gray-400 mb-6">
            The Perfect Line can also be seen in local markets around the country. Select your state below to find local listings.
        </p>

        <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
            <!-- State Selector Dropdown -->
            <div class="mb-6">
                <label for="stateSelector" class="block mb-2 text-sm font-medium text-gray-300">Select a State:</label>
                <select id="stateSelector" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    <option selected value="">-- Choose your state --</option>
                    {% for state in states %}
                        <option value="{{ state }}">{{ state }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Results Table Container -->
            <div id="resultsContainer" class="hidden">
                <div class="overflow-hidden rounded-lg border border-gray-700">
                    <table class="min-w-full divide-y divide-gray-700">
                        <thead class="bg-gray-700/50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">City</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Station</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Time(s)</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody" class="divide-y divide-gray-700">
                            <!-- Rows will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
             <div id="noResults" class="hidden text-center text-gray-500 p-4">
                <p>No syndication data found for the selected state.</p>
            </div>
        </div>
    </section>

    <!-- Links Section -->
    <section>
        <h2 class="text-2xl font-bold text-white mb-4">Links</h2>
        <div class="space-y-6">
            <!-- Game Show Network -->
            <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
                <h3 class="font-semibold text-white text-lg mb-3">Game Show Network</h3>
                <a href="https://www.gameshownetwork.com/the-perfect-line" class="inline-flex items-center space-x-2 text-yellow-400 hover:text-yellow-300 transition-colors" target="_blank" rel="noopener noreferrer">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg>
                    <span>Official Show Page</span>
                </a>
            </div>
            <!-- The Perfect Line -->
            <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
                <h3 class="font-semibold text-white text-lg mb-3">The Perfect Line</h3>
                <div class="flex flex-col sm:flex-row sm:space-x-8 space-y-3 sm:space-y-0">
                    <a href="https://www.instagram.com/perfectlinegameshow/" class="inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors" target="_blank" rel="noopener noreferrer">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zM12 7.044a5.271 5.271 0 00-5.271 5.271A5.271 5.271 0 0012 17.585a5.271 5.271 0 005.271-5.271A5.271 5.271 0 0012 7.044zm0 8.518a3.247 3.247 0 110-6.494 3.247 3.247 0 010 6.494zM16.338 7.044a1.265 1.265 0 100 2.53 1.265 1.265 0 000-2.53z" clip-rule="evenodd" /></svg>
                        <span>Instagram</span>
                    </a>
                    <a href="https://www.facebook.com/perfectlinegameshow" class="inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors" target="_blank" rel="noopener noreferrer">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
                        <span>Facebook</span>
                    </a>
                    <a href="https://x.com/DeborahNorville" class="inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors" target="_blank" rel="noopener noreferrer">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>
                        <span>Twitter (X)</span>
                    </a>
                </div>
            </div>
            <!-- Deborah Norville -->
            <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
                <h3 class="font-semibold text-white text-lg mb-3">Deborah Norville</h3>
                <div class="flex flex-col sm:flex-row sm:space-x-8 space-y-3 sm:space-y-0">
                    <a href="https://www.instagram.com/deborahnorville/" class="inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors" target="_blank" rel="noopener noreferrer">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zM12 7.044a5.271 5.271 0 00-5.271 5.271A5.271 5.271 0 0012 17.585a5.271 5.271 0 005.271-5.271A5.271 5.271 0 0012 7.044zm0 8.518a3.247 3.247 0 110-6.494 3.247 3.247 0 010 6.494zM16.338 7.044a1.265 1.265 0 100 2.53 1.265 1.265 0 000-2.53z" clip-rule="evenodd" /></svg>
                        <span>Instagram</span>
                    </a>
                    <a href="https://www.facebook.com/OfficialDeborahNorville" class="inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors" target="_blank" rel="noopener noreferrer">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
                        <span>Facebook</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const stateSelector = document.getElementById('stateSelector');
        const resultsContainer = document.getElementById('resultsContainer');
        const noResultsDiv = document.getElementById('noResults');
        const resultsBody = document.getElementById('resultsBody');

        // The syndication data is passed from the Django view as a JSON string
        const syndicationData = JSON.parse('{{ syndication_data_json|safe }}');

        stateSelector.addEventListener('change', (event) => {
            const selectedState = event.target.value;

            // Clear previous results
            resultsBody.innerHTML = '';
            resultsContainer.classList.add('hidden');
            noResultsDiv.classList.add('hidden');

            if (selectedState && syndicationData[selectedState]) {
                const stations = syndicationData[selectedState];

                if (stations.length > 0) {
                    stations.forEach(station => {
                        const row = `
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-white">${station.city}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">${station.station}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">${station.time}</td>
                            </tr>
                        `;
                        resultsBody.innerHTML += row;
                    });
                    resultsContainer.classList.remove('hidden');
                } else {
                    noResultsDiv.classList.remove('hidden');
                }
            } else if (selectedState) {
                noResultsDiv.classList.remove('hidden');
            }
        });
    });
</script>
{% endblock %}

